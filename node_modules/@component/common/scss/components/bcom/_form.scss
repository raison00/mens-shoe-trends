@mixin bl-form-element() {
	background-color: $input-bg-color;
	font-family: $input-font-family;
	border: $input-border-width $input-border-style $input-border-color;
	@if $experimental {
		-webkit-box-shadow: $input-box-shadow;
	}
	box-shadow: $input-box-shadow;
	color: $input-font-color;
	display: block;
	font-size: $input-font-size;
	margin: 0 0 $form-spacing 0;
	padding: $form-spacing / 2;
	height: ($input-font-size + ($form-spacing * 1.5) - rem-calc(1));
	width: 100%;
	@include box-sizing(border-box);
	@if $input-include-glowing-effect {
		@include block-glowing-effect(focus, $glowing-effect-fade-time, $glowing-effect-color);
	}
	// Basic focus styles
	&:focus {
		background: $input-focus-bg-color;
		border-color: $input-focus-border-color;
	}

	// Disabled background input background color
	&[disabled] { background-color: $input-disabled-bg; }
}

form {
	margin: 0 0 $form-spacing;
}

form .row {
	@include form-row-base;
}

label {
	@include form-label;
	font-family: $body-font-family;
	line-height: rem-calc(17);
	span {
		color: $bloomiesGrey3;
		float: right;
	}
}

.disabled label, label.disabled {
	color: $bloomiesGrey3;
}

input[type="text"],
input[type="password"],
input[type="date"],
input[type="datetime"],
input[type="datetime-local"],
input[type="month"],
input[type="week"],
input[type="email"],
input[type="number"],
input[type="search"],
input[type="tel"],
input[type="time"],
input[type="url"],
textarea {
	@if $experimental {
		-webkit-border-radius: 0;
		-moz-border-radius: 0;
		-o-border-radius: 0;
	}
	border-radius: 0;
	-webkit-appearance: none;
	-moz-appearance: none;
	-o-appearance: none;
	appearance: none;
	@include bl-form-element;
	@if not $input-include-glowing-effect {
		@include single-transition(all, 0.15s, linear);
	}
	&[disabled] {
		border-color: $bloomiesGrey7;
		color: $bloomiesGrey3;
	}
}

$smallFieldFontSize: 14;

@media #{$small} {
	input[type="text"],
	input[type="password"],
	input[type="date"],
	input[type="datetime"],
	input[type="datetime-local"],
	input[type="month"],
	input[type="week"],
	input[type="email"],
	input[type="number"],
	input[type="search"],
	input[type="tel"],
	input[type="time"],
	input[type="url"],
	textarea {
		font-size: rem-calc($smallFieldFontSize);
	}
}

input[type="file"],
input[type="checkbox"],
input[type="radio"],
select {
	margin: 0 0 $form-spacing 0;
}

input[type="file"] {
	width:100%;
}

.success {
	position: relative;
	input + span {
		position: absolute;
		display: block;
		width: rem-calc(15);
		height: rem-calc(15);
		right: rem-calc(-25);
		bottom: rem-calc(13);
		background: url(svg-inline("<svg width='15px' height='15px'><circle fill='rgb(8,133,62)' cx='7.5' cy='7.5' r='7.5'/><polygon fill='white' points='12.373,4.213 10.664,2.952 6.272,8.304 4.078,6.201 2.46,7.564 6.387,11.63'/></svg>")) no-repeat;
	}
}

.alert {
	font-family: $body-font-family;
	font-size: rem-calc(14);
	margin-bottom: rem-calc(10);
	padding: rem-calc(7);
	position: relative;
	padding-left: rem-calc(40);
	line-height: rem-calc(25);
	border: 1px solid $bloomiesGrey5;
	color: $bloomiesBlack;
	ul:not(.no-bullet) {
		margin: 0;
		list-style-position: inside;
		list-style-type: disc;
	}
	&:after {
		content: "";
		position: absolute;
		display: block;
		width: rem-calc(15);
		height: rem-calc(15);
		left: rem-calc(13);
		top: 50%;
		margin-top: rem-calc(15 / -2);
	}
	&.success {
		border-color: $success-color;
		color: $success-color;
		&:after {
			background: url(svg-inline("<svg width='15px' height='15px'><circle fill='rgb(8,133,62)' cx='7.5' cy='7.5' r='7.5'/><polygon fill='white' points='12.373,4.213 10.664,2.952 6.272,8.304 4.078,6.201 2.46,7.564 6.387,11.63'/></svg>")) no-repeat;
		}
	}
	&.error {
		border-color: $alert-color;
		color: $alert-color;
		&:after {
			background: url(svg-inline("<svg width='15px' height='15px'><circle fill='red' cx='7.5' cy='7.5' r='7.5'/><rect x='6.1' y='1.324' fill='white' width='2.774' height='8.555'/><rect x='6.1' y='11.247' fill='white' width='2.773' height='2.467'/></svg>")) no-repeat;
		}
	}
	&.info {
		border-color: $border-color;
		color: $bloomiesBlack;
		&:after {
			width: rem-calc(21);
			height: rem-calc(21);
			top: 47%;
			left: rem-calc(11);
			background: url(svg-inline("<svg width='21px' height='21px' viewBox='0 0 21 21' enable-background='new 0 0 21 21' xml:space='preserve'><g><path d='M10.5,21C16.289,21,21,16.291,21,10.5C21,4.711,16.29,0,10.5,0C4.711,0,0,4.711,0,10.5C0,16.291,4.711,21,10.5,21z'/><g><path fill='#FFFFFF' d='M10.516,8.139c-0.35,0-0.634,0.285-0.634,0.635v7.605c0,0.35,0.284,0.635,0.634,0.635 s0.634-0.285,0.634-0.635V8.773C11.15,8.424,10.866,8.139,10.516,8.139z'/><circle fill='#FFFFFF' cx='10.5' cy='4.875' r='1.264'/></g></g></svg>")) no-repeat;
		}
	}
}

.contentAlongLabel {
	line-height: rem-calc($fieldHeight);
	height: rem-calc($fieldHeight);
}

.oldLabelHeight {
	line-height: rem-calc(27);
}

form {
	> .bl_footer {
		margin-top: rem-calc(20);
	}
}

select {
	font: $custom-dropdown-font-size $body-font-family;
	height: $custom-select-height;

	border: solid $custom-form-border-size $custom-form-border-color;
	@if $experimental {
		-webkit-border-radius: 0;
		-moz-border-radius: 0;
		-o-border-radius: 0;
	}
	border-radius: 0;
	-webkit-appearance: none;
	-moz-appearance: none;
	-o-appearance: none;
	appearance: none;
	display: inline-block;
	cursor: pointer;
	padding: 0 ($custom-dropdown-opposite-padding * 2) 0 $custom-dropdown-default-float-padding;
	&[disabled] {
		border-color: $custom-select-disabled-border-color;
		color: $custom-select-disabled-color;
	}
	// this is for ie9/10/11
	&::-ms-expand {
		border: 0;
		width: $custom-dropdown-opposite-padding * 2;
		color: transparent;
	}
	&::-ms-value {
		background: transparent;
		color: $bloomiesBlack;
	}
	&[disabled]::-ms-value {
		color: $custom-select-disabled-color;
	}
}
// this is for ie9/10/11
:root select {
	padding-right: 0\0;
	background: white\0;
	&[disabled] {
		background: white\0;
	}
}

.hidden-field {
	margin-#{$default-float}: -99999px;
	position: absolute;
	visibility: hidden;
}

@function svg-inline-dropdown-arrow($fill: "black") {
    @return svg-inline("<svg width='10px' height='7px'><polygon fill='" + $fill + "' points='4.981,6.8075 0.475,1.0135 1.527,0.1945 4.986,4.6415 8.477,0.1925 9.525,1.0155'/></svg>");
}
@function svg-inline-dropdown-open-arrow() {
    @return svg-inline("<svg width='10px' height='7px'><polygon points='4.601,0.07 9.107,5.863 8.055,6.682 4.596,2.236 1.105,6.685 0.057,5.861'/></svg>");
}

select, .custom.dropdown .current {
	background: $bloomiesWhite url(svg-inline-dropdown-arrow()) no-repeat right $custom-dropdown-opposite-padding center;
}
.custom.dropdown .current {
	background-position: right ($custom-dropdown-opposite-padding - rem-calc(1)) center;
}
select[disabled], select[disabled] + .custom.dropdown .current {
	background-image: url(svg-inline-dropdown-arrow("rgb(153,153,153)"));
}
.custom.dropdown.open .current {
	background-image: url(svg-inline-dropdown-open-arrow());
}
// this is for ie9/10/11
select {
	&::-ms-expand {
		background: $bloomiesWhite url(svg-inline-dropdown-arrow()) no-repeat right $custom-dropdown-opposite-padding center;
	}
	&[disabled]::-ms-expand {
		background-image: url(svg-inline-dropdown-arrow($fill: "rgb(153,153,153)"));
	}
}

.custom.dropdown {
	cursor: pointer;
	border: solid $custom-form-border-size $custom-form-border-color;
	display: inline-block;
	position: relative;
	top: 0;
	height: $custom-select-height;
	margin: 0 0 $form-spacing;
	padding: 0;
	width: 100%;
	background: $custom-dropdown-bg;
	box-shadow: none;
	font-size: $custom-dropdown-font-size;
	vertical-align: top;
	text-align: left;

	ul {
		overflow-y: auto;
		max-height: $custom-dropdown-height;
	}

	.current {
		white-space: nowrap;
		line-height: $custom-select-height - rem-calc(4);
		height: $custom-select-height - rem-calc(4);
		color: $input-font-color;
		text-decoration: none;
		overflow: hidden;
		display: block;
		padding: 0 (($custom-dropdown-opposite-padding * 2) - rem-calc(1)) 0 ($custom-dropdown-default-float-padding - rem-calc(1));
		margin: 1px;

		span {
			font-family: $avenir-font-heavy;
		}
	}

	.disabled {
		color: $custom-select-disabled-color;
		&:hover {
			background: transparent;
			color: $custom-select-disabled-color;
			&:after { display: none; }
		}
	}

	&.open ul {
		display: block;
		z-index: 10;
		min-width:100%;
		@include box-sizing(content-box);
	}

	&.small { max-width: $custom-dropdown-width-small; }
	&.medium { max-width: $custom-dropdown-width-medium; }
	&.large { max-width: $custom-dropdown-width-large; }
	&.expand { width: 100% !important; }

	&.open.small ul { min-width: $custom-dropdown-width-small; @include box-sizing(border-box); }
	&.open.medium ul { min-width: $custom-dropdown-width-medium; @include box-sizing(border-box); }
	&.open.large ul { min-width: $custom-dropdown-width-large; @include box-sizing(border-box); }
}

select[disabled] + .custom.dropdown {
	border-color: $custom-select-disabled-border-color;
	.current {
		color: $custom-select-disabled-color;
	}
}

.custom.dropdown ul {
	position: absolute;
	width: auto;
	display: none;
	left: -$input-border-width;
	top: $custom-dropdown-offset-top;
	margin: 0;
	padding: 0;
	background: $custom-dropdown-bg;
	border: $custom-dropdown-border-style $custom-dropdown-border-width $custom-dropdown-border-color;
	font-size: $em-base;

	li {
		color: $custom-dropdown-font-color;
		font-size: $custom-dropdown-font-size;
		cursor: $cursor-default-value;
		padding: $custom-dropdown-list-padding $custom-dropdown-default-float-padding;
		min-height: $custom-dropdown-list-item-min-height;
		line-height: $custom-dropdown-list-item-min-height;
		margin: 0;
		white-space: nowrap;
		list-style: none;

		&.selected {
			background: $custom-dropdown-color-selected;
			color: $custom-dropdown-font-color-selected;
		}
		&:hover {
			background-color: darken($custom-dropdown-color-selected, 4%);
			color: $custom-dropdown-font-color-selected;
		}
		&.selected:hover {
			background: $custom-dropdown-color-selected;
			cursor: $cursor-default-value;
			color: $custom-dropdown-font-color-selected;
		}
	}

	&.show { display: block; }
}

/* secondary dropdown override styles */
.custom.dropdown.secondary {
	font-size: rem-calc($fieldFontSizeSecondary);
	height: rem-calc($fieldHeightSecondary);

	ul {
		max-height: $custom-dropdown-height-secondary;
		top: $custom-dropdown-offset-top-secondary;

		li {
			min-height: $custom-dropdown-list-item-min-height-secondary;
			line-height: $custom-dropdown-list-item-min-height-secondary;
		}
	}

	.current {
		height: $custom-select-height-secondary - rem-calc(4);
		line-height: $custom-select-height-secondary - rem-calc(4);
	}
}


@media #{$small} {
	select {
		font-size: rem-calc($smallFieldFontSize);
	}

	.custom.dropdown {
		font-size: rem-calc($smallFieldFontSize);

		&.secondary{
			font-size: rem-calc($fieldFontSizeSecondary);
		}
		
		ul li {
			font-size: inherit;
		}
	}
}

.checkboxRow {
	margin-top: rem-calc(15);
	margin-bottom: rem-calc(15);

	input[type=checkbox] ~ label {
		font-weight: normal;

		&.bold {
			font-weight: bold;
		}
	}
}

.phoneSeparator {
	text-align: center;
	line-height: rem-calc($fieldHeight);

	&:after {
		content: "-";
	}
}
