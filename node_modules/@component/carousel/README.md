## Carousel

Prerequisites
1. Node.js version 8.x
2. npm version 5
3. macys-cli

Detail information about prerequisite: **[Link To Confluence Page](https://confluence5/display/MCOMUIT/Step+1%3A+Setup+macys-cli) **

  
  
## How to Run Example
1. Clone repository from **[here](https://code.devops.fds.com/polaris/component/carousel)**
2. Run `npm install` from your terminal
3. Make sure you met a prerequisite
4. run `m server` from your terminal
5. Go to `localhost:8081` from your browser.


## How To Consume in Your Feature
1. In your working feature or component, run ```npm install --save @component/carousel```

### Client Side Rendering
 
1. Create HTML document with holders

```html
<!-- holders must have id NOT CLASS-->
<div id="horizontal-holder"></div>
<div id="vertical-holder"></div>
```

2. Basic Clientside Rendering Example: In your Javascript file

```javascript
//Import statements
import {createCarouselView, HORIZONTAL, VERTICAL, ArrowIconSize} from '@component/carousel';


//Create array of list tag that goes into your carousel
let childrenList = [];
for ( let i = 0 ; i < 5 ; i++ ) {
	let temp = document.createElement('li');
    temp.innerHTML = '<img src..../>';
    childrenList.push(temp);
}

//Instantiate horizontal or vertical carousel depends on your need.
let horizontalCarousel = createCarouselView(HORIZONTAL,{
     el: "#horizontal-holder",
     childrenView: childrenList,
     arrowIconSize:ArrowIconSize.LARGE
});

horizontalCarousel.render();

let verticalCarousel = createCarouselView(VERTICAL,{
     el: "#vertical-holder",
     childrenView: childrenList,
     arrowIconSize:ArrowIconSize.LARGE
});

verticalCarousel.render();

//Destroy Eventlistener on URL change
verticalCarousel.removeEventListener();
horizontalCarousel.removeEventListener();
```

### Server Side Rendering

1. Create Handlebars(HBS) document with holders and items prepopulate from serverside

```html
<!-- Horizontal Carousel Example Template (htemp.hbs)-->
<div id="horizontal-holder">
  <div class="componentCarousel horizontal">
      <div class="table-row">
         <div class="table-cell">
              <button disabled="true" class="m-carousel-button prev {{screenSize}}-hide-btns" aria-label="scroll carousel left">
                  <span class="icon-ui-chevron-left-bk-huge"></span>
              </button>
          </div>
          <div class="table-cell">
              <div class="carouselWrapper">
                  <div class="scroller">
                      <ul class="carousel" tabindex="0" aria-label="carousel">
                          {{#each items}}
                            <li>{{!-- Your stuff --}}{{items}}</li>
                          {{/each}}
                      </ul>
                  </div>
              </div>
           </div>   
           <div class="table-cell">
              <button disabled="true" class="m-carousel-button next {{screenSize}}-hide-btns" aria-label="scroll carousel right">
                  <span class="icon-ui-chevron-right-bk-huge"></span>
              </button>
          </div>
       </div>
  </div>
</div>
```

```html
<!-- Vertical Carousel Example Template (vtemp.hbs) -->
<div id="vertical-holder">
  <div class="componentCarousel vertical">
    <div class="table-row">
       <div class="table-cell">
          <button disabled="true" class="m-carousel-button up" aria-label="scroll carousel up">
              <span class="icon-ui-chevron-up-bk-huge"></span>
          </button>
        </div>
        <div class="table-cell">
          <div class="carouselWrapper">
              <div class="scroller">
                  <ul class="carousel" tabindex="0" aria-label="carousel">
                      {{#each items}}
                        <li>{{!-- Your stuff --}}{{items}}</li>
                      {{/each}}
                  </ul>
              </div>
          </div>
          </div>
          <div class="table-cell">
              <button disabled="true" class="m-carousel-button down" aria-label="scroll carousel down">
                  <span class="icon-ui-chevron-down-bk-huge"></span>
              </button>
          </div>
      </div>
  </div>
</div>
```


2. Basic Clientside Rendering Example: In your Javascript file

```javascript
//Import statements
import {createCarouselView, HORIZONTAL, VERTICAL, ArrowIconSize} from '@component/carousel';
/*
	Assume templates from above has rendered from Express.js sever side rendering.
    Instantiate vertical/horizontal carousel.,
*/

let horizontalCarousel = createCarouselView(HORIZONTAL,{
     el: "#horizontal-holder",
     arrowIconSize:ArrowIconSize.LARGE,
      ssr: true
});

horizontalCarousel.render();

let verticalCarousel = createCarouselView(VERTICAL,{
     el: "#vertical-holder",
     arrowIconSize:ArrowIconSize.LARGE,
      ssr: true
});

verticalCarousel.render();


//Destroy Eventlistener on URL change
verticalCarousel.removeEventListener();
horizontalCarousel.removeEventListener();
``` 

### More Examples

[Click to View For More Examples](/src/example.js)
 
### Functions

| Name | Description |
| -------- | -------- |
| render   | to render the carousel|
| moveToFirstPage | calling this function will move carousel on first page. |
| triggerNextEvent | trigger next event from programmatically|
| getPage  |  get function that returns object with current page, maximum page, and child per page information  | 
| getLength   |   getter function that returns number of element in the carousel   |
| addChild( DOM Element )  |  addchild add dom element at the end of the view   |
| addChildren ( [... DOM Elements] ) |  addChildren add multiple dom element at the end of the view  | 
| removeChild(index Number)| remove childview in specific index number|
| prev() | go to previouse page / element|
| next() | go to next page/element |
| removeEventListener()| destroy method |


 
### Options



**Following options are available for both vertical and horizontal carousel**

| Key | Description | Default Value| Required? |
| -------- | -------- | -------- | -------- |
| el | holder DOM element or id. | undefined | Yes |
| childrenView |list of DOM element that should be populated as child view | [] | No|
| size |size of icon ( full, huge, medium, small, tiny )| huge | No |
| page | boolean flag to decide whether user want to scroll page by page(true) or element by element(false)| true | No|
| event |automatically add event listener of click, and touch |true|No|
| ssr |Server side rendering enabler. if this is enabled, it will not use default template to create new carousel, but look for id where it pre-rendered carousel | false |No|
| swatch | last element of carousel will partially visible instead of cropped  | true | No| 
| hideButtons | decide screen size to hide right/left chevrons in horizontal carousel (options: medium(1024px) or small(600px) )   | medium | No| 
