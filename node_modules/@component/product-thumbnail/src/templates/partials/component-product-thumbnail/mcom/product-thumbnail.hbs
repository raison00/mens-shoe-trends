<div class="productThumbnail" id="{{identifier.productId}}"
{{#if detail.flags.masterProduct}} data-ismaster="{{detail.flags.masterProduct}}" {{/if}}
{{#if detail.flags.hideQuickView}} data-hidequickview="{{detail.flags.hideQuickView}}" {{/if}}>
	{{!-- product thumbnail image --}}
	<div class="productThumbnailImage">
        <a href="{{identifier.productUrl}}{{#if @root.meta.pageType.similarProducts}}&mlt=true{{/if}}" title="{{#if detail.title}}{{{detail.title}}} {{else}} {{{detail.name}}}{{/if}}" alt="{{{detail.name}}}" class="productDescLink">
			{{#if traits.colors.selectedColor.imagery.primaryImage.filePath}}
             <img id="img_{{identifier.productId}}" src="{{imageSrc traits.colors.selectedColor.imagery}}" class="thumbnailImage" {{#each traits.colors.selectedColor.imagery.additionalImageSource}} {{#if @first ~}}data-src='{{/if ~}}{{filePath}}{{#if @last ~}}'{{else}},{{/if ~}}{{/each}} alt="{{{detail.name}}}"/>
			{{else}}
             <img id="img_{{identifier.productId}}" src="{{imageSrc imagery}}" class="thumbnailImage" {{#each imagery.additionalImageSource}} {{#if @first ~}}data-src='{{/if ~}}{{filePath}}{{#if @last ~}}'{{else}},{{/if ~}}{{/each}} alt="{{{detail.name}}}"/>
			{{/if}}
		</a>
		<div class="jumboSwatch"><span id="jumboSwatch_{{identifier.productId}}"></span></div>
	</div>
	{{!-- colors available for small, medium screen --}}
	{{#if @root.meta.properties.canvasResponsiveEnabled}}{{#ifCond traits.colors.colorMap.length '>' 1}}<div class="color-count hide-for-large-up">{{traits.colors.colorMap.length}} colors</div>{{/ifCond}}{{/if}}
	{{#if detail.bottomOverlay.text}}
		<div class="bottomOverlayWrapper {{#if @root.meta.properties.canvasResponsiveEnabled}}hide-for-small hide-for-medium{{/if}}">
			<div {{#each detail.bottomOverlay.classes}}{{#if @first ~}}class="{{/if ~}}{{this}}{{#if @last ~}}{{else}} {{/if ~}}{{/each}} bottomOverlayLabel">{{detail.bottomOverlay.text}}</div>
		</div>
	{{/if}}
	{{!-- product description --}}
	<div class="productDetail">
		{{!-- color swatches --}}
		{{#if traits.colors.colorMap}}
			<script data-bootstrap="component/product-thumbnail"  type="application/json">
						{
							"traits": {{Stringify traits}},
							"detail": {{Stringify detail}}
						}
			</script>
			<div class="colorSwatchesContainer {{#if @root.meta.properties.canvasResponsiveEnabled}}hide-for-small hide-for-medium{{/if}}" id="colorSwatch_{{identifier.productId}}" data-colorswatchproduct={{identifier.productId}}>
			</div>
		{{/if}}
		<div class="productDescription">
			<a href="{{identifier.productUrl}}{{#if @root.meta.pageType.similarProducts}}&mlt=true{{/if}}" title="{{#if detail.title}}{{{detail.title}}} {{else}} {{{detail.name}}}{{/if}}" class="productDescLink">
				{{#if detail.flags.chanel}}<div class='productBrand'>{{#if detail.flags.isNew}}<span>NEW! </span>{{/if}}{{{detail.brand}}}</div><div class='productName'>{{{detail.name}}}</div><div class='productSubDesc'>{{{detail.secondaryDescription}}}</div>{{else}}{{#if detail.flags.isNew}}<strong>NEW! </strong>{{/if}}{{{detail.name}}}{{/if}}
			</a>
			<div class="priceInfo">
				{{!-- special offers --}}
				{{#if pricing.price.priceType}}
					{{#with pricing.price.priceType}}
						<div class="specialOffers {{#ifCond onEdv '||' upcOnEdv}}edvPrice{{/ifCond}} {{#ifCond text '===' 'Everyday Value'}}everydayValue{{/ifCond}}">
							{{#ifCond onEdv "||" upcOnEdv}}
									<span class="edvIcon"></span>
							{{/ifCond}}
							{{#if text}}
								<span class="priceTypeText">
									{{text}}
								</span>
								{{#unless applicableToAllUpcs}}
									<span class="select-colors">select colors</span>
								{{/unless}}
							{{/if}}
						</div>
					{{/with}}
				{{/if}}
				{{!-- tiered price --}}
				<div class="prices">
					{{#each pricing.price.tieredPrice}}
						<div>
						{{#label-splitter label as |priceLabel|}}
				            {{#if values.[1]}}
				                <span class="{{values.0.type}}{{#if @first}}{{#unless @last}} originalOrRegularPriceOnSale{{/unless}}{{/if}}">{{priceLabel.label}} {{#if priceLabel.showPrice}}{{values.0.formattedValue}}{{/if}} </span>
				                <span class="{{values.1.type}}{{#if @first}}{{#unless @last}} originalOrRegularPriceOnSale{{/unless}}{{/if}}">- {{values.1.noCurrency}}</span>

				            {{else}}
				                {{#if @root.pricing.price.priceType.isMasterNonRanged}}
				                    {{#if @last}}
				                        <span class="yourChoice">
				                    {{else}}
				                        <span class="{{values.0.type}}{{#if @first}}{{#unless @last}} originalOrRegularPriceOnSale{{/unless}}{{/if}}">
				                    {{/if}}
				                {{else}}
				                    <span class="{{values.0.type}}{{#if @first}}{{#unless @last}} originalOrRegularPriceOnSale{{/unless}}{{/if}}">
				                {{/if}}
				                	{{priceLabel.label}} {{#if priceLabel.showPrice}}{{values.0.formattedValue}}{{/if}}<br/>
				                </span>
				            {{/if}}
				        {{/label-splitter}}
						</div>
					{{/each}}
				</div>
				{{#if pricing.price.priceType.memberProductOnSale}}
		            <div class="memberProductOnSale">SELECT ITEMS ON SALE</div>
		        {{/if}}
			</div>
			{{!-- badges --}}
		 	{{#if pricing.badges}}
		 		<div class="badges">
		 			{{#each pricing.badges}}
						<div class="badge {{#if popUp}}rebate{{/if}} {{#if finalPrice}}finalPrice{{/if}} {{#if secondBadgeWithFinalPrice}}subsequentBadges{{/if}}">
							{{#if description}}
								<span class="badgeToolTip">
									<div class="css-tooltip caret_top">
										{{#if image}}
											<span class="badgeImage"><img class="badgeImageTag" src="{{imageSrc image}}"></span>
										{{/if}}
										<div class="badgeTitle">{{header}}</div>

											<div class="badgeDescription">{{description}}</div>

									</div>
								</span>
							{{/if}}

							{{#if finalPrice}}
								{{#with finalPrice}}
									{{#label-splitter label as |priceLabel|}}
										{{#if values.[1]}}
											<span data-auto="final-price">{{priceLabel.label}} {{#if priceLabel.showPrice}}{{values.0.formattedValue}}{{/if}} - {{values.1.noCurrency}}</span>
										{{else}}
											<span data-auto="final-price">{{priceLabel.label}} {{#if priceLabel.showPrice}}{{values.0.formattedValue}}{{/if}}</span>
										{{/if}}
									{{/label-splitter}}
								{{/with}}
							{{else}}
								{{#if popUp}}
									<a href="javascript:;" class="badgeRebate" data-rebateurl="{{popUp.url}}" data-width="{{popUp.width}}" data-height="{{popUp.height}}">{{header}}</a>
								{{else}}
									<span class="badgeHeader {{#ifCond type '===' 'discount'}}finalPricePromotion{{else}}regularPromotion{{/ifCond}}">{{header}}</span>
									{{#if showSelectColors}}
										<span class="select-colors">select colors</span>
									{{/if}}
								{{/if}}
							{{/if}}
						</div>
			    	{{/each}}
		    	</div>
		    {{/if}}
		    {{!-- reviews --}}
		    {{#if detail.reviewStatistics.aggregate}}
                <div class="pdpreviews">
                    <span class="rating">
                        <span class="starGrey">
	                        <span class="icon-star-gr-medium inline-icon-medium"></span>
	                    	<span class="icon-star-gr-medium inline-icon-medium"></span>
	                    	<span class="icon-star-gr-medium inline-icon-medium"></span>
	                    	<span class="icon-star-gr-medium inline-icon-medium"></span>
	                    	<span class="icon-star-gr-medium inline-icon-medium"></span>
	                    </span>
	                    <span class="redStarContainer" style="width:{{productRating detail.reviewStatistics.aggregate.rating}}%">
	                        <span class="starRed">
		                        <span class="icon-star-red-medium inline-icon-medium"></span>
		                        <span class="icon-star-red-medium inline-icon-medium"></span>
		                        <span class="icon-star-red-medium inline-icon-medium"></span>
		                        <span class="icon-star-red-medium inline-icon-medium"></span>
		                        <span class="icon-star-red-medium inline-icon-medium"></span>
	                        </span>
                        </span>
                    </span>
                    <span>({{detail.reviewStatistics.aggregate.count}})</span>
                </div>
		    {{/if}}
            {{#if @root.meta.properties.moreLikeThisEnabledMEW}}
                {{#ifCond @root.meta.context.deviceType '===' 'PHONE' }}
                    {{> component-product-thumbnail/mcom/similar-product this}}
                {{/ifCond}}
                {{#ifCond @root.meta.context.deviceType '===' 'TABLET' }}
                    {{> component-product-thumbnail/mcom/similar-product this}}
                {{/ifCond}}
            {{/if}}
            {{#if @root.meta.properties.moreLikeThisEnabledSite}}
                {{#ifCond @root.meta.context.deviceType '===' 'DESKTOP' }}
                    {{> component-product-thumbnail/mcom/similar-product this}}
                {{/ifCond}}
            {{/if}}

			{{!-- Displaying bops and boss badges::OCF:GrayBar-Y --}}
			<div class="bops_boss-badges">
				{{!-- bops badge --}}
				{{#if detail.flags.showBopsStoreBadge}}
					<div class="icon-ui-checkmark-validate-medium"></div>
					<div class="badge-text" id="bops-badge"></div>
				{{/if}}

				{{!-- boss badge--}}
				{{#unless detail.flags.showBopsStoreBadge}}
					{{#if detail.flags.showBossStoreBadge}}
						{{#if detail.bossStoreBadge}}
							<div class="icon-ui-checkmark-validate-medium"></div>
							<div class="badge-text" id="boss-badge">{{detail.bossStoreBadge}}</div>
						{{/if}}
					{{/if}}
				{{/unless}}	
			
				{{!-- limited availability badge--}}
				{{#if detail.flags.showLimitedAvailabilityStoreBadge}}
					{{#if detail.limitedAvailabilityBadge}}
						<div class="icon-ui-warning-f-medium"></div>
						<div class="badge-text low-availability-badge" id="limited-availability-badge">{{detail.limitedAvailabilityBadge}}</div>
					{{/if}}
				{{/if}}
			</div>
		</div>
	</div>
</div>
