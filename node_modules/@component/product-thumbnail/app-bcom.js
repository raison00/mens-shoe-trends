import Backbone from 'backbone';
import '@component/common/scss/bloomies-base.scss';
import ProductThumbnail from './src/views/bcom/ProductThumbnail';
import app from './app';
import './src/scss/bcom/product-thumbnail.scss';

app.brand = 'bcom';

app.on('start', () => {
  // Inject Coremetrics for testing in isolation
  const cmcustom = document.createElement('script');
  cmcustom.type = 'text/javascript';
  cmcustom.src = 'http://assets.bloomingdales.com/navapp/javascript/cmcustom.js';
  document.head.appendChild(cmcustom);

  const thumbnailModel = new Backbone.Model(require('./bcomproduct.json'));
  const productThumbnail = new ProductThumbnail({
    el: '#holder',
    model: thumbnailModel,
    pageID: 'search_results',
    searchPass: 'jeans',
    props: {},
  });
  productThumbnail.render();
  productThumbnail.bootstrap();
});

export default app;
