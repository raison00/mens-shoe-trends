

##### getContentSecurityPolicy(isProductionEnvironment,appName, channel, mode,nonce,optionalSettings); 

   - isProductionEnvironment:Boolean value true | false
   - appName: String value for e.g. subscription
   - channel: String value mcom/bcom/mcombcom
   - mode: String "reportonly" or "enforce" 
     - First time users of CSP are recommended to enable in "reportonly" mode and first test  configured CSP rules in QE and Production environments and later change it to "enforce" mode. 
   - nonce: cryptographic nonce,server must generate a unique nonce.possible values: String "disable_nonce"  or "nonce-xxxx". 
     - The "nonce-xxx" (eg.nonce-3468348423424) is server generated value using node-uuid npm at the client side for every request.
     - The "disable-nonce" is to disable nonce for the script-src and style-src

   - optionalSettings: Object values to add to default content security policy, available options:
   
        - *scriptSrc* Additional white-listed domains to allow script files to be loaded from
        - *styleSrc* Additional white-listed domains to allow css files to be loaded from
        - *fontSrc* Additional white-listed domains to allow font files to be loaded from
        - *imgSrc* Additional white-listed domains to allow image files to be loaded from
        - *connectSrc* Additional white-listed domains to allow connections(XMLHttpRequest, WebSocket, EventSource, sendBeacon, fetch)

  - The Reporting endpoint for CSP policy is dynamically built within the utils based on the enviornment.The parameters isProduction, appName,channel and mode  are used for URL generation. 
  example 1 :  isProduction=true, appName=subscription ,channel=mcom , mode=reportonly.
  https://rasm.macys.net/app/mcom_subscription_reportonly/env/production/dc/RTP
  example 2 :  isProduction=false, appName=subscription ,channel=mcom , mode=reportonly.
  https://rasm.macys.net/app/mcom_subscription_reportonly/env/qa/dc/RTP


                example usage:
                //Add the following lines in your page lib/ServerApplication.js
                
                var Utils = require("@core/util");

                var uuid = require('node-uuid');
                var csp = require('helmet-csp');
                var node_env = process.env.NODE_ENV || "DEV";
                node_env = node_env.toLowerCase();
                var isProdEnv = node_env === "production";           

                app.use(function (req, res, next) {
                res.locals.noncey = uuid.v4()
                next()
                })

                eg 1 : (with disabling nonce)
                app.use(csp(Utils.getContentSecurityPolicy(isProdEnv, "subscription", "mcom","reportonly","disable_nonce",{scriptSrc:["*.test-domain.com", "test2.net"], styleSrc:["*.csscdn.net", "*.stylescdn.com"]}));

                eg 2 : (with server generated nonce)
               app.use(csp(Utils.getContentSecurityPolicy(isProdEnv, "subscription", "mcom","reportonly",function (req, res) {return "'nonce-" + res.locals.noncey + "'"},{scriptSrc:["*.barath.co"], styleSrc:["*.barathscdn.net", "*.stylescdn.com"]})));

                On pages with inline-scripts
                <script type="text/javascript" nonce="{{noncey}}">
                ........
                </script>
